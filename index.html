<!DOCTYPE html>

<html>

<head>

    <meta name="viewport" content="width-device-width, initial-scale=1">

    <link 
        rel="stylesheet" 
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" 
        integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" 
        crossorigin="anonymous">

    <script
        defer src="https://use.fontawesome.com/releases/v5.0.9/js/all.js" 
        integrity="sha384-8iPTk2s/jMVj81dnzb/iFR2sdA7u06vHJyyLlAd4snFpCl/SnyUjRrbdJsw1pGIl" 
        crossorigin="anonymous">
    </script>

    <script
        src="https://code.jquery.com/jquery-3.3.1.js"
        integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
        crossorigin="anonymous">
    </script>

    <script 
        src="https://code.jquery.com/jquery-1.12.4.js">
    </script>

    <script 
        src="https://code.jquery.com/ui/1.12.1/jquery-ui.js">
    </script>

    <script>
        $( function() {
            $( "#addingThings" ).sortable()
            $( "#addingThings" ).disableSelection()
        })
    </script>

    <style>
      
       /* body{

            background-color: grey;

        }*/

    </style>

</head>

<body>

    <div class = "row" id = "page-base">

        <div class = "col-md-1">
        </div>

        <div class = "col-md-5">

            <h2>
                <font size="20">To Do List</font>
            </h2>

            <div id="buttons">

                <input id="inputField" placeholder="Type something">
                <button class="button" id="add" onclick="addTodo()">add</button>

            </div>

            <div>



            </div>

        </div>

        <!-- <div id = "specialList" class = "col-md-6">

            <ul>
                
                <li>banana</li>
                <li>car</li>
                <li>tree</li>

            </ul>

        </div>
 -->
    </div>
        
    <script>

        var storage = JSON.parse(localStorage.getItem('listOfTodos')) || []

        reload()




        $('#inputField').keydown(function(event){
                
            if(event.which == 13){

                addTodo()

            }

        })

        function addTodo(){

            var todo = $('#inputField').val()

            storage.push(todo)
            storage.sort()
            localStorage.setItem('listOfTodos', JSON.stringify(storage))

            showTodos(todo)

            $('#inputField').val(' ')

        }

        function reload(){

            for(var x = 0; x < storage.length; x++){

                showTodos(storage[x])

            }

        }

        function showTodos(i){

            $(`

                <p>

                    ${i}
                    <i id = "trashIcon" class = "fas fa-trash-alt" onclick = 'pressTrashbox()'></i>

                </p>

            `).appendTo('#addingThings')

            $("p")
            .mouseover(function() {

                $( "svg:first", this ).css("display", "inline")
                    
            })
            .mouseout(function() {

                $( "svg:first", this ).css("display", "none")

            })

        }

        function pressTrashbox(){

            event.target.closest('p').remove()           

            storage.splice(storage.indexOf(event.target.closest('p').innerText), 1)
            localStorage.setItem('listOfTodos', JSON.stringify(storage))

        }

    </script>

</body>

</html>








